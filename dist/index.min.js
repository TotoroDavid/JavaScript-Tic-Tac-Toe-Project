"use strict";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],t=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(t=(l=a.next()).done)&&(n.push(l.value),!r||n.length!==r);t=!0);}catch(e){o=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var origBoard,huPlayer="O",aiPlayer="X",winCombos=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]],cells=document.querySelectorAll(".cell");function startGame(){document.querySelector(".endgame").style.display="none",origBoard=Array.from(Array(9).keys());for(var e=0;e<cells.length;e++)cells[e].innerText="",cells[e].style.removeProperty("background-color"),cells[e].addEventListener("click",turnClick,!1)}function turnClick(e){"number"==typeof origBoard[e.target.id]&&(turn(e.target.id,huPlayer),checkWin(origBoard,huPlayer)||checkTie()||turn(bestSpot(),aiPlayer))}function turn(e,r){origBoard[e]=r,document.getElementById(e).innerText=r;var n=checkWin(origBoard,r);n&&gameOver(n)}function checkWin(e,t){var r=e.reduce(function(e,r,n){return r===t?e.concat(n):e},[]),n=null,o=!0,i=!1,l=void 0;try{for(var a,c=winCombos.entries()[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var u=_slicedToArray(a.value,2),y=u[0];if(u[1].every(function(e){return-1<r.indexOf(e)})){n={index:y,player:t};break}}}catch(e){i=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}return n}function gameOver(e){var r=!0,n=!1,t=void 0;try{for(var o,i=winCombos[e.index][Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;document.getElementById(l).style.backgroundColor=e.player==huPlayer?"blue":"red"}}catch(e){n=!0,t=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw t}}for(var a=0;a<cells.length;a++)cells[a].removeEventListener("click",turnClick,!1);declareWinner(e.player==huPlayer?"You win!":"You lose.")}function declareWinner(e){document.querySelector(".endgame").style.display="block",document.querySelector(".endgame .text").innerText=e}function emptySquares(){return origBoard.filter(function(e){return"number"==typeof e})}function bestSpot(){return minimax(origBoard,aiPlayer).index}function checkTie(){if(0!=emptySquares().length)return!1;for(var e=0;e<cells.length;e++)cells[e].style.backgroundColor="green",cells[e].removeEventListener("click",turnClick,!1);return declareWinner("Tie Game!"),!0}function minimax(e,r){var n=emptySquares();if(checkWin(e,huPlayer))return{score:-10};if(checkWin(e,aiPlayer))return{score:10};if(0===n.length)return{score:0};for(var t,o=[],i=0;i<n.length;i++){var l={};if(l.index=e[n[i]],(e[n[i]]=r)==aiPlayer){var a=minimax(e,huPlayer);l.score=a.score}else{a=minimax(e,aiPlayer);l.score=a.score}e[n[i]]=l.index,o.push(l)}if(r===aiPlayer){var c=-1e4;for(i=0;i<o.length;i++)o[i].score>c&&(c=o[i].score,t=i)}else for(c=1e4,i=0;i<o.length;i++)o[i].score<c&&(c=o[i].score,t=i);return o[t]}startGame();
//# sourceMappingURL=index.min.js.map
